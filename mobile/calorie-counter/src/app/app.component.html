<mat-sidenav-container class="app-shell">
  <mat-sidenav #drawer mode="over" class="app-drawer" fixedInViewport [autoFocus]="false">
    <app-side-menu (close)="drawer.close()"></app-side-menu>
  </mat-sidenav>

  <!-- ВЕРХ/НИЗ ВКЛАДЫШИ ВНЕ mat-sidenav-content (выше по слою) -->
  
  

  <mat-sidenav-content class="app-content">
    <!-- Верхний тулбар (не растягиваем, только сдвигаем) -->
     @if(safeTop() > 0)
     {
        <div class="safe-top" [style.height.px]="safeTop()"></div>
     }
    <mat-toolbar color="primary" class="topbar" [style.top.px]="safeTop()">
      <button mat-icon-button (click)="drawer.toggle()">
        <mat-icon>menu</mat-icon>
      </button>
      <span>HealthyMeals</span>
    </mat-toolbar>

    <div class="container"
         [style.marginTop.px]="TOPBAR_HEIGHT + safeTop()"
         [style.marginBottom.px]="BOTTOMBAR_HEIGHT + safeBottom()">
      <router-outlet></router-outlet>
    </div>

    <!-- Нижний тулбар (поднимаем на safeBottom) -->
   <!-- Нижний тулбар -->
<mat-toolbar class="bottombar" [style.bottom.px]="safeBottom()" role="tablist" aria-label="Bottom navigation">
  <a mat-button class="bottom-link" routerLink="/history" routerLinkActive="active" [disableRipple]="true" role="tab" aria-label="История">
    <span class="bottom-tab">
      <mat-icon fontSet="material-icons-outlined">history</mat-icon>
      <span class="bottom-tab__label">История</span>
    </span>
  </a>
  <a mat-button class="bottom-link" routerLink="/add" routerLinkActive="active" [disableRipple]="true" role="tab" aria-label="Добавить">
    <span class="bottom-tab">
      <mat-icon fontSet="material-icons-outlined">add_a_photo</mat-icon>
      <span class="bottom-tab__label">Добавить</span>
    </span>
  </a>
  <a mat-button class="bottom-link" routerLink="/analysis" routerLinkActive="active" [disableRipple]="true" role="tab" aria-label="Анализ">
    <span class="bottom-tab">
      <mat-icon fontSet="material-icons-outlined">medical_services</mat-icon>
      <span class="bottom-tab__label">Диетолог ИИ</span>
    </span>
  </a>
</mat-toolbar>

    @if(safeBottom() > 0)
     {
    <div class="safe-bottom" [style.height.px]="safeBottom()"></div>
     }
  </mat-sidenav-content>
</mat-sidenav-container>
